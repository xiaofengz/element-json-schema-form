(function(e){function t(t){for(var r,l,i=t[0],c=t[1],s=t[2],p=0,f=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(f.length)f.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={app:0},a=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02f1":function(e,t,n){},"2d5d":function(e,t,n){"use strict";var r=n("efab"),o=n.n(r);o.a},"31c3":function(e,t,n){"use strict";var r=n("b252"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),o=n("8c4f"),a=n("5c96"),l=n.n(a),i=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",attrs:{id:"app"}},[n("p",{staticClass:"title"},[e._v("element-json-schema-form")]),n("div",{staticClass:"btns"},[n("el-button",{on:{click:function(t){return e.push("form-default")}}},[e._v("Form")]),n("el-button",{on:{click:function(t){return e.push("table-default")}}},[e._v("Table")])],1),n("router-view")],1)}),c=[],s={methods:{push:function(e){this.$router.push(e)}}},u=s,p=(n("2d5d"),n("2877")),f=Object(p["a"])(u,i,c,!1,null,"9e8d7c54",null),d=f.exports,m=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("d81d"),n("fb6a"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("159b"),n("ddb0"),n("2909")),b=n("ade3");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}"function"!=typeof String.prototype.startWith&&(String.prototype.startWith=function(e){return this.slice(0,e.length)===e});var y={name:"ElJsonForm",props:{model:{type:Object},formRef:{type:String,default:function(){return"form1"}},config:{type:Object,default:function(){return{formAttr:{},rules:{},properties:{}}}},labelWidth:{type:String,default:"150px"}},watch:{values:{handler:function(e){this.updating=!0,this.$emit("input",e),this.updating=!1},deep:!0},model:{handler:function(e,t){this.updating?this.updating=!1:this.values=this.mergeValues()},immediate:!0,deep:!0}},data:function(){return{updating:!1,values:this.mergeValues()}},render:function(e){var t=this;return e("el-form",{props:v({},t.config.formAttr,{model:t.values,labelWidth:t.labelWidth}),ref:t.formRef},[e("h3",t.config.title||""),e("p",t.config.describe||"")].concat(Object(m["a"])(t.$slots.prepend||[]),Object(m["a"])(t.renderFormItems(e)||[]),Object(m["a"])(t.$slots.append||[])))},created:function(){this.$emit("input",this.values)},methods:{resetFields:function(){var e=this;e.$refs[e.formRef].resetFields()},validate:function(e){var t=this;t.$refs[t.formRef].validate(e)},validateField:function(e){vm.$refs[vm.formRef].validateField(e)},mergeValues:function(){var e=this,t=e.model,n=e.config.properties,r={};Object.keys(n).map((function(e){var t,o=n[e],a=o.type,l=o.multiple;t="checkbox"===a||"select"===a&&l?null!=t?n[e].defaultValue:[]:n[e].defaultValue,Object.assign(r,Object(b["a"])({},e,t))}));var o=v({},r,{},t);return Object.keys(r).forEach((function(e){!Array.isArray(r[e])||0!==r[e].length||t&&t[e]||(o[e]=[]);var a=n[e].type;"button"===a&&delete o[e]})),o},filterAttrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n={};return t.forEach((function(t){var r=e[t];"number"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r||(n[t]=r)})),n},renderFormItems:function(e){var t=this,n=t.config.properties;return Object.keys(n).map((function(r,o){return t.renderFormItem(e,n[r],r,o)}))},renderFormItem:function(e,t,n){var r,o=this,a=o.values,l=a[n]||null,i={input:function(e){a[n]=e}},c=t.type,s=t.label,u=t.size,p=e(c.startWith("el")?"".concat(c):"el-".concat(c),{attrs:v({},o.filterAttrs(t)),props:v({value:l},t),on:v({},i)}),f=e("el-button",{attrs:v({},o.filterAttrs(t),{type:t._type}),props:v({},t,{type:t._type})},t.text||t.value),d=e("el-select",{attrs:v({},o.filterAttrs(t)),props:v({value:l},t),on:v({},i)},(t.options||[]).map((function(t){return e("el-option",{attrs:v({},o.filterAttrs(t)),props:v({key:t.value},t)})}))),m=(t.options||[]).map((function(n){return n=v({name:t.name},n),e("el-radio",{attrs:v({},o.filterAttrs(n)),props:v({value:l},n),on:v({},i)},[n.text])})),h=e("el-date-picker",{attrs:v({},o.filterAttrs(t),{type:t._type}),props:v({value:l},t,{type:t._type}),on:v({},i)}),y=e("el-input",{attrs:v({},o.filterAttrs(t)),props:v({value:l},t),on:v({},i)}),g=(r={},Object(b["a"])(r,c,p),Object(b["a"])(r,"button",f),Object(b["a"])(r,"select",d),Object(b["a"])(r,"input",y),Object(b["a"])(r,"radios",m),Object(b["a"])(r,"datePicker",h),Object(b["a"])(r,"date-picker",h),r);return e("el-form-item",{props:{prop:n,label:s,size:u}},[g[c]])}}},g=function(e){e.component("el-json-form",y)},O={install:g},j=O;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"ElJsonTable",props:{data:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{column:[]}}}},watch:{},data:function(){return{}},render:function(e,t){var n=this;return e("el-table",{attrs:x({},n.filterAttrs(n.config)),props:{data:n.data},on:{select:function(e,t){return n.emitEventHandler("select",e,t)},"select-all":function(e){return n.emitEventHandler("select-all",e)},"selection-change":function(e){return n.emitEventHandler("selection-change",e)},"cell-mouse-enter":function(e,t,r,o){return n.emitEventHandler("cell-mouse-enter",e,t,r,o)},"cell-mouse-leave":function(e,t,r,o){return n.emitEventHandler("cell-mouse-leave",e,t,r,o)},"cell-click":function(e,t,r,o){return n.emitEventHandler("cell-click",e,t,r,o)},"cell-dblclick":function(e,t,r,o){return n.emitEventHandler("cell-dblclick",e,t,r,o)},"row-click":function(e,t,r){return n.emitEventHandler("row-click",e,t,r)},"row-contextmenu":function(e,t,r){return n.emitEventHandler("row-contextmenu",e,t,r)},"row-dblclick":function(e,t,r){return n.emitEventHandler("row-dblclick",e,t,r)},"header-click":function(e,t){return n.emitEventHandler("header-click",e,t)},"header-contextmenu":function(e,t){return n.emitEventHandler("header-contextmenu",e,t)},"sort-change":function(e){var t=e.column,r=e.prop,o=e.order;return n.emitEventHandler("sort-change",{column:t,prop:r,order:o})},"filter-change":function(e){return n.emitEventHandler("filter-change",e)},"current-change":function(e,t){return n.emitEventHandler("current-change",e,t)},"header-dragend":function(e,t,r,o){return n.emitEventHandler("header-dragend",e,t,r,o)},"expand-change":function(e,t){return n.emitEventHandler("expand-change",e,t)}}},[].concat(Object(m["a"])(n.$slots.prepend||[]),Object(m["a"])(n.renderTableColumns(e,t)||[]),Object(m["a"])(n.$slots.append||[])))},created:function(){},methods:{renderTableColumns:function(e,t){var n=this,r=n.config.columns;return r.map((function(r,o){return n.renderCloumn(e,t,r)}))},renderCloumn:function(e,t,n){var r=this;return e("el-table-column",Object.assign({attrs:x({},r.filterAttrs(n)),props:{data:r.data},on:{}},n.prop&&r.$scopedSlots[n.prop]?{scopedSlots:{default:function(e){return r.$scopedSlots[n.prop](e)}}}:{}),[].concat(Object(m["a"])(r.$slots.prepend||[]),Object(m["a"])(r.$slots.append||[])))},emitEventHandler:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t.$emit.apply(t,[e].concat(r))},filterAttrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n={};return t.forEach((function(t){var r=e[t];"number"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r||(n[t]=r)})),n}}},E=function(e){e.component("el-json-table",k)},P={install:E},S=P,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-container"},[n("div",{attrs:{id:"jsoneditor"}}),n("el-button",{staticClass:"btn",on:{click:e.handleJson}},[e._v(">")]),n("div",{staticClass:"form-content"},[n("el-json-form",{ref:"form",attrs:{config:e.formJson,model:e.formModel,"label-width":"80px"}},[n("div",{staticClass:"submit-item",attrs:{slot:"append"},slot:"append"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)]),n("p",[e._v("点击【提交】查看form values:")]),n("div",[e._v(e._s(e.values))])],1)],1)},J=[],$=(n("ac1f"),n("841c"),n("61f0")),C=n.n($),A=(n("6014"),{name:"app",components:{},data:function(){return{formModel:{},timer:null,formJson:{title:"这是一个json schema自动生成的表单",describe:"基于emelent ui",formAttr:{inline:!0,"label-position":"right",rules:{name:[{required:!0,message:"请输入名称"},{max:5,message:"最多 5 个字符"}]},size:"mini"},properties:{name:{type:"input",label:"活动名称",placeholder:"请输入..."},sex:{type:"select",label:"性别",multiple:!0,options:[{label:"男",value:1},{label:"女",value:2}]},date:{type:"datePicker",label:"日期",_type:"daterange",format:"yyyy 第 WW 周",placeholder:"选择周",rangeSeparator:"至","start-placeholder":"开始日期1","end-placeholder":"结束日期"},switch:{type:"switch"},button:{type:"button",text:"按钮",_type:"success"},search:{type:"autocomplete",label:"远程搜索",placeholder:"请搜索..."}}},values:{}}},mounted:function(){var e=this,t=document.getElementById("jsoneditor");this.editor=new C.a(t,{mode:"code"});this.editor.set(this.formJson);this.editor.get();new Promise((function(t){setTimeout((function(){e.formJson.properties.sex.options=[{label:"男1111",value:1},{label:"女",value:2}]}),1e3)})),this.formJson.properties.search.fetchSuggestions=function(t,n){return e.fetch(t,n)}},methods:{handleJson:function(){this.editor.set(this.editor.get()),this.formJson=this.editor.get()},fetch:function(e,t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t([{label:"结果1",value:"结果1"},{label:"结果2",value:"结果2"}])}),3e3*Math.random())},onSubmit:function(){var e=this;console.log("submit!",this.$refs.form,this.$refs.form.values),this.$refs.form.validate((function(t,n){if(!t)return e.values="提交失败, "+JSON.stringify(n),console.log("提交成功,",n),!1;e.values="提交成功, "+JSON.stringify(e.$refs.form.values)}))}}}),D=A,H=(n("5770"),Object(p["a"])(D,_,J,!1,null,"f44d7318",null)),T=H.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-container"},[n("div",{attrs:{id:"jsoneditor"}}),n("el-button",{staticClass:"btn",on:{click:e.handleJson}},[e._v(">")]),n("el-json-table",{attrs:{config:e.tableJson,data:e.tableData},on:{select:e.select,"select-all":e.selectAll,"selection-change":e.handleSelectionChange,"cell-click":e.handleCellClick}})],1)},M=[];function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(b["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R,V,z={name:"app",components:{},data:function(){return{tableData:[{name:"Sam",mobile:"15299xxxx",sex:0},{name:"Jean",mobile:"13452xxxx",sex:1},{name:"Tony",mobile:"187233xxxx",sex:0}],tableJson:{style:{width:"300px"},columns:[{type:"selection",width:55},{prop:"name",label:"Name",width:120},{prop:"mobile",label:"Mobile",minWidth:100},{prop:"sex",label:"Sex",width:80},{prop:"operate",label:"操作",width:180}]}}},mounted:function(){var e=document.getElementById("jsoneditor");this.editor=new C.a(e,{mode:"code"}),this.editor.set(I({},{tableJson:this.tableJson},{},{tableData:this.tableData}))},methods:{handleJson:function(){this.tableJson=this.editor.get().tableJson,this.tableData=this.editor.get().tableData},handleSelectionChange:function(e){console.log("handleSelectionChange",e)},selectAll:function(e){console.log("selectAll",e)},select:function(e){console.log("select",e)},handleCellClick:function(e){console.log("handleCellClick",e)},openModel:function(e){console.log("openModel",e)}}},N=z,B=(n("31c3"),Object(p["a"])(N,F,M,!1,null,"c1a1af40",null)),q=B.exports,G={},K=Object(p["a"])(G,R,V,!1,null,null,null),L=K.exports;r["default"].use(l.a),r["default"].use(j),r["default"].use(S),r["default"].use(o["a"]),r["default"].config.productionTip=!1;var Q=[{path:"/form-default",component:T},{path:"/table-default",component:q},{path:"/rules",component:L},{path:"*",component:T}],U=new o["a"]({routes:Q});new r["default"]({router:U,render:function(e){return e(d)}}).$mount("#app")},5770:function(e,t,n){"use strict";var r=n("02f1"),o=n.n(r);o.a},b252:function(e,t,n){},efab:function(e,t,n){}});
//# sourceMappingURL=app.a8e74526.js.map