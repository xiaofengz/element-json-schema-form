(function(e){function t(t){for(var o,l,i=t[0],c=t[1],s=t[2],p=0,f=[];p<i.length;p++)l=i[p],Object.prototype.hasOwnProperty.call(a,l)&&a[l]&&f.push(a[l][0]),a[l]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(r.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},a={app:0},r=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0273":function(e,t,n){},"0e29":function(e,t,n){"use strict";var o=n("9e95"),a=n.n(o);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("8c4f"),r=n("5c96"),l=n.n(r),i=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",attrs:{id:"app"}},[n("p",{staticClass:"title"},[e._v("element-json-schema-form")]),n("div",{staticClass:"btns"},[n("el-button",{on:{click:function(t){return e.push("form-default")}}},[e._v("Form")]),n("el-button",{on:{click:function(t){return e.push("table-default")}}},[e._v("Table")]),n("el-button",{on:{click:function(t){return e.push("compelete-demo")}}},[e._v("完整例子")])],1),n("router-view")],1)}),c=[],s={methods:{push:function(e){this.$router.push(e)}}},u=s,p=(n("0e29"),n("2877")),f=Object(p["a"])(u,i,c,!1,null,"da9fd56c",null),d=f.exports,m=(n("99af"),n("4160"),n("d81d"),n("fb6a"),n("b0c0"),n("b64b"),n("d3b7"),n("159b"),n("ddb0"),n("ade3")),b=n("2909"),h=n("5530");"function"!=typeof String.prototype.startWith&&(String.prototype.startWith=function(e){return this.slice(0,e.length)===e});var g,v,y={name:"ElJsonForm",props:{model:{type:Object},formRef:{type:String,default:function(){return"form1"}},config:{type:Object,default:function(){return{formAttr:{},rules:{},properties:{}}}},labelWidth:{type:String,default:"150px"}},watch:{values:{handler:function(e){this.updating=!0,this.$emit("input",e),this.updating=!1},deep:!0},model:{handler:function(e,t){this.updating?this.updating=!1:this.values=this.mergeValues()},immediate:!0,deep:!0}},data:function(){return{updating:!1,values:this.mergeValues()}},render:function(e){var t=this;return e("el-form",{props:Object(h["a"])({},t.config.formAttr,{model:t.values,labelWidth:t.labelWidth}),ref:t.formRef},[e("h3",t.config.title||""),e("p",t.config.describe||"")].concat(Object(b["a"])(t.$slots.prepend||[]),Object(b["a"])(t.renderFormItems(e)||[]),Object(b["a"])(t.$slots.append||[])))},created:function(){this.$emit("input",this.values)},methods:{resetFields:function(){var e=this;e.$refs[e.formRef].resetFields()},validate:function(e){var t=this;t.$refs[t.formRef].validate(e)},validateField:function(e){vm.$refs[vm.formRef].validateField(e)},mergeValues:function(){var e=this,t=e.model,n=e.config.properties,o={};Object.keys(n).map((function(e){var t,a=n[e],r=a.type,l=a.multiple;t="checkbox"===r||"select"===r&&l?null!=t?n[e].defaultValue:[]:n[e].defaultValue,Object.assign(o,Object(m["a"])({},e,t))}));var a=Object(h["a"])({},o,{},t);return Object.keys(o).forEach((function(e){!Array.isArray(o[e])||0!==o[e].length||t&&t[e]||(a[e]=[]);var r=n[e].type;"button"===r&&delete a[e]})),a},filterAttrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n={};return t.forEach((function(t){var o=e[t];"number"!==typeof o&&"string"!==typeof o&&"boolean"!==typeof o||(n[t]=o)})),n},renderFormItems:function(e){var t=this,n=t.config.properties;return Object.keys(n).map((function(o,a){return t.renderFormItem(e,n[o],o,a)}))},renderFormItem:function(e,t,n){var o,a=this,r=a.values,l=r[n]||null,i={input:function(e){r[n]=e}},c=t.type,s=t.label,u=t.size,p=e(c.startWith("el")?"".concat(c):"el-".concat(c),{attrs:Object(h["a"])({},a.filterAttrs(t)),props:Object(h["a"])({value:l},t),on:Object(h["a"])({},i)}),f=e("el-button",{attrs:Object(h["a"])({},a.filterAttrs(t),{type:t._type}),props:Object(h["a"])({},t,{type:t._type})},t.text||t.value),d=e("el-select",{attrs:Object(h["a"])({},a.filterAttrs(t)),props:Object(h["a"])({value:l},t),on:Object(h["a"])({},i)},(t.options||[]).map((function(t){return e("el-option",{attrs:Object(h["a"])({},a.filterAttrs(t)),props:Object(h["a"])({key:t.value},t)})}))),b=(t.options||[]).map((function(n){return n=Object(h["a"])({name:t.name},n),e("el-radio",{attrs:Object(h["a"])({},a.filterAttrs(n)),props:Object(h["a"])({value:l},n),on:Object(h["a"])({},i)},[n.text])})),g=e("el-date-picker",{attrs:Object(h["a"])({},a.filterAttrs(t),{type:t._type}),props:Object(h["a"])({value:l},t,{type:t._type}),on:Object(h["a"])({},i)}),v=e("el-input",{attrs:Object(h["a"])({},a.filterAttrs(t)),props:Object(h["a"])({value:l},t),on:Object(h["a"])({},i)}),y=(o={},Object(m["a"])(o,c,p),Object(m["a"])(o,"button",f),Object(m["a"])(o,"select",d),Object(m["a"])(o,"input",v),Object(m["a"])(o,"radios",b),Object(m["a"])(o,"datePicker",g),Object(m["a"])(o,"date-picker",g),o);return e("el-form-item",{props:{prop:n,label:s,size:u}},[y[c]])}}},j=function(e){e.component("el-json-form",y)},x={install:j},O=x,w={name:"ElJsonTable",props:{data:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return{column:[]}}}},watch:{},data:function(){return{}},render:function(e,t){var n=this;return e("div",{class:"ddmc-table__container",style:{marginTop:"10px"},attrs:{}},[].concat(Object(b["a"])(n.$slots.tablePrepend||[]),[n.renderTable(e,t)],Object(b["a"])(n.$slots.tableAppend||[]),Object(b["a"])(n.$slots.paginationPrepend||[]),Object(b["a"])(!1===n.config.pagination?[]:[n.renderPagination(e,t)]),Object(b["a"])(n.$slots.paginationAppend||[])))},created:function(){},methods:{renderPagination:function(e){var t=this;return e("el-pagination",{style:{marginTop:"10px"},attrs:Object(h["a"])({layout:"total, sizes, prev, pager, next, jumper",currentPage:1,pageSize:25,total:0,pageSizes:[10,25,50,100]},t.filterAttrs(t.config.pagination)),props:Object(h["a"])({},t.config.pagination),on:{"size-change":function(e){return t.$emit("on-query",{limit:e,page:1})},"current-change":function(e){return t.$emit("on-query",{page:e})},"prev-change":function(e){return t.$emit("on-query",{page:e})},"next-change":function(e){return t.$emit("on-query",{page:e})}}})},renderTable:function(e,t){var n=this;return e("el-table",{attrs:Object(h["a"])({},n.filterAttrs(n.config)),props:Object(h["a"])({data:n.data},n.config),on:{select:function(e,t){return n.emitEventHandler("select",e,t)},"select-all":function(e){return n.emitEventHandler("select-all",e)},"selection-change":function(e){return n.emitEventHandler("selection-change",e)},"cell-mouse-enter":function(e,t,o,a){return n.emitEventHandler("cell-mouse-enter",e,t,o,a)},"cell-mouse-leave":function(e,t,o,a){return n.emitEventHandler("cell-mouse-leave",e,t,o,a)},"cell-click":function(e,t,o,a){return n.emitEventHandler("cell-click",e,t,o,a)},"cell-dblclick":function(e,t,o,a){return n.emitEventHandler("cell-dblclick",e,t,o,a)},"row-click":function(e,t,o){return n.emitEventHandler("row-click",e,t,o)},"row-contextmenu":function(e,t,o){return n.emitEventHandler("row-contextmenu",e,t,o)},"row-dblclick":function(e,t,o){return n.emitEventHandler("row-dblclick",e,t,o)},"header-click":function(e,t){return n.emitEventHandler("header-click",e,t)},"header-contextmenu":function(e,t){return n.emitEventHandler("header-contextmenu",e,t)},"sort-change":function(e){var t=e.column,o=e.prop,a=e.order;return n.emitEventHandler("sort-change",{column:t,prop:o,order:a})},"filter-change":function(e){return n.emitEventHandler("filter-change",e)},"current-change":function(e,t){return n.emitEventHandler("current-change",e,t)},"header-dragend":function(e,t,o,a){return n.emitEventHandler("header-dragend",e,t,o,a)},"expand-change":function(e,t){return n.emitEventHandler("expand-change",e,t)}}},[].concat(Object(b["a"])(n.$slots.prepend||[]),Object(b["a"])(n.renderTableColumns(e,t)||[]),Object(b["a"])(n.$slots.append||[])))},renderTableColumns:function(e,t){var n=this,o=n.config.columns;return o.map((function(o,a){return n.renderCloumn(e,t,o)}))},renderCloumn:function(e,t,n){var o=this;return e("el-table-column",Object.assign({attrs:Object(h["a"])({},o.filterAttrs(n)),props:Object(h["a"])({data:o.data},n),on:{}},n.prop&&o.$scopedSlots[n.prop]?{scopedSlots:{default:function(e){return o.$scopedSlots[n.prop](e)}}}:{}),[].concat(Object(b["a"])(o.$slots.prepend||[]),Object(b["a"])(o.$slots.append||[])))},emitEventHandler:function(e){for(var t=this,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];t.$emit.apply(t,[e].concat(o))},filterAttrs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e),n={};return t.forEach((function(t){var o=e[t];"number"!==typeof o&&"string"!==typeof o&&"boolean"!==typeof o||(n[t]=o)})),n}}},k=function(e){e.component("el-json-table",w)},_={install:k},S=_,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-container"},[n("div",{attrs:{id:"jsoneditor"}}),n("el-button",{staticClass:"btn",on:{click:e.handleJson}},[e._v(">")]),n("div",{staticClass:"form-content"},[n("el-json-form",{ref:"form",attrs:{config:e.formJson,model:e.formModel,"label-width":"80px"}},[n("div",{staticClass:"submit-item",attrs:{slot:"append"},slot:"append"},[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")])],1)]),n("p",[e._v("点击【提交】查看form values:")]),n("div",[e._v(e._s(e.values))])],1)],1)},$=[],J=(n("ac1f"),n("841c"),n("61f0")),E=n.n(J),A=(n("6014"),{name:"app",components:{},data:function(){return{formModel:{},timer:null,formJson:{title:"这是一个json schema自动生成的表单",describe:"基于emelent ui",formAttr:{inline:!0,"label-position":"right",rules:{name:[{required:!0,message:"请输入名称"},{max:5,message:"最多 5 个字符"}]},size:"mini"},properties:{name:{type:"input",label:"活动名称",placeholder:"请输入..."},sex:{type:"select",label:"性别",multiple:!0,options:[{label:"男",value:1},{label:"女",value:2}]},date:{type:"datePicker",label:"日期",_type:"daterange",format:"yyyy 第 WW 周",placeholder:"选择周",rangeSeparator:"至","start-placeholder":"开始日期1","end-placeholder":"结束日期"},switch:{type:"switch"},button:{type:"button",text:"按钮",_type:"success"},search:{type:"autocomplete",label:"远程搜索",placeholder:"请搜索..."}}},values:{}}},mounted:function(){var e=this,t=document.getElementById("jsoneditor");this.editor=new E.a(t,{mode:"code"});this.editor.set(this.formJson);this.editor.get();new Promise((function(t){setTimeout((function(){e.formJson.properties.sex.options=[{label:"男1111",value:1},{label:"女",value:2}]}),1e3)})),this.formJson.properties.search.fetchSuggestions=function(t,n){return e.fetch(t,n)}},methods:{handleJson:function(){this.editor.set(this.editor.get()),this.formJson=this.editor.get()},fetch:function(e,t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t([{label:"结果1",value:"结果1"},{label:"结果2",value:"结果2"}])}),3e3*Math.random())},onSubmit:function(){var e=this;console.log("submit!",this.$refs.form,this.$refs.form.values),this.$refs.form.validate((function(t,n){if(!t)return e.values="提交失败, "+JSON.stringify(n),console.log("提交成功,",n),!1;e.values="提交成功, "+JSON.stringify(e.$refs.form.values)}))}}}),P=A,M=(n("dc2f"),Object(p["a"])(P,C,$,!1,null,"0570f7b6",null)),T=M.exports,H={},z=Object(p["a"])(H,g,v,!1,null,null,null),W=z.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e-container"},[n("div",{attrs:{id:"jsoneditor"}}),n("el-button",{staticClass:"btn",on:{click:e.handleJson}},[e._v(">")]),n("el-json-table",{attrs:{config:e.tableJson,data:e.tableData},on:{select:e.select,"select-all":e.selectAll,"selection-change":e.handleSelectionChange,"cell-click":e.handleCellClick}})],1)},D=[],q={name:"app",components:{},data:function(){return{tableData:[{name:"Sam",mobile:"15299xxxx",sex:0},{name:"Jean",mobile:"13452xxxx",sex:1},{name:"Tony",mobile:"187233xxxx",sex:0}],tableJson:{style:{width:"300px"},columns:[{type:"selection",width:55},{prop:"name",label:"Name",width:120},{prop:"mobile",label:"Mobile",minWidth:100},{prop:"sex",label:"Sex",width:80},{prop:"operate",label:"操作",width:180}],pagination:{layout:"total, sizes, prev, pager, next, jumper",total:3,hideOnSinglePage:!1}}}},mounted:function(){var e=document.getElementById("jsoneditor");this.editor=new E.a(e,{mode:"code"}),this.editor.set(Object(h["a"])({},{tableJson:this.tableJson},{},{tableData:this.tableData}))},methods:{handleJson:function(){this.tableJson=this.editor.get().tableJson,this.tableData=this.editor.get().tableData},handleSelectionChange:function(e){console.log("handleSelectionChange",e)},selectAll:function(e){console.log("selectAll",e)},select:function(e){console.log("select",e)},handleCellClick:function(e){console.log("handleCellClick",e)},openModel:function(e){console.log("openModel",e)}}},I=q,V=(n("c58e"),Object(p["a"])(I,F,D,!1,null,"734072f2",null)),R=V.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-json-form",{ref:"form",attrs:{config:e.formJson,model:e.formModel,"label-width":"80px"}},[n("div",{staticClass:"submit-item el-form-item",attrs:{slot:"append"},slot:"append"},[n("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.onSubmit({page:1})}}},[e._v("提交")])],1)]),n("el-json-table",{attrs:{config:e.tableJson,data:e.tableData},on:{"on-query":e.onSubmit,select:e.select,"select-all":e.selectAll,"selection-change":e.handleSelectionChange,"cell-click":e.handleCellClick,"sort-change":e.handleSortChange},scopedSlots:e._u([{key:"name",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.openModel(t.row)}}},[e._v(e._s(t.row.name+"自定义row")+" ")])]}},{key:"sex",fn:function(t){return[n("span",[e._v(e._s(1===t.row.sex?"男":"女"))])]}},{key:"operate",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.openModel(t.row)}}},[e._v(" "+e._s("操作1"))]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.openModel(t.row)}}},[e._v(e._s("操作2"))])]}}])})],1)},B=[],G={name:"app",components:{},data:function(){return{loading:!1,formModel:{},timer:null,tableData:[],tableJson:{style:{width:"300px"},columns:[{type:"selection",width:55},{prop:"name",label:"Name",width:80,sortable:!0},{prop:"mobile",label:"Mobile",minWidth:100},{prop:"sex",label:"Sex",width:80,renderHeader:function(e,t){var n=t.column;t.$index;return e("span",null,[n.label,e("el-button",{props:{size:"mini",type:"primary"},class:"m-l-5",on:{click:function(){console.log("刷新")}}},["刷新"])])}},{prop:"operate",label:"操作",width:180}],pagination:{layout:"total, sizes, prev, pager, next, jumper"}},formJson:{title:"这是一个form+table+pagination完整demo(带搜索&&分页)",describe:"基于emelent ui",formAttr:{inline:!0,"label-position":"right",rules:{name:[{required:!1,message:"请输入名称"},{max:5,message:"最多 5 个字符"}]},size:"mini"},properties:{name:{type:"input",label:"活动名称",placeholder:"请输入..."},sex:{type:"select",label:"性别",multiple:!0,options:[{label:"男",value:1},{label:"女",value:2}]},date:{type:"datePicker",label:"日期",_type:"daterange",format:"yyyy 第 WW 周",placeholder:"选择周",rangeSeparator:"至","start-placeholder":"开始日期1","end-placeholder":"结束日期"},switch:{type:"switch"},button:{type:"button",text:"按钮",_type:"success"},search:{type:"autocomplete",label:"远程搜索",placeholder:"请搜索..."}}}}},mounted:function(){var e=this;new Promise((function(t){setTimeout((function(){e.formJson.properties.sex.options=[{label:"男1111",value:1},{label:"女",value:2}]}),1e3)})),this.formJson.properties.search.fetchSuggestions=function(t,n){return e.fetch(t,n)}},methods:{fetch:function(e,t){this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t([{label:"结果1",value:"结果1"},{label:"结果2",value:"结果2"}])}),3e3*Math.random())},handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))},onSubmit:function(e){var t=this;console.log("submit! formValue:",this.$refs.form.values),console.log("pagination-params:",e),this.$refs.form.validate((function(n,o){if(!n)return console.log("error submit!!",o),!1;var a={data:[{name:"Sam",mobile:"15299xxxx",sex:0},{name:"Jean",mobile:"13452xxxx",sex:1},{name:"Tony",mobile:"187233xxxx",sex:0}],total:98,currentPage:e.page||1};t.loading=!0,setTimeout((function(){t.tableData=a.data,t.tableJson.pagination={total:a.total,currentPage:a.currentPage},t.loading=!1}),1500*Math.random())}))},handleSelectionChange:function(e){console.log("handleSelectionChange",e)},selectAll:function(e){console.log("selectAll",e)},select:function(e){console.log("select",e)},handleCellClick:function(e){console.log("handleCellClick",e)},handleSortChange:function(e){console.log("handleSortChange",e)},openModel:function(e){console.log("openModel",e)}}},K=G,L=Object(p["a"])(K,N,B,!1,null,null,null),Q=L.exports;o["default"].use(l.a),o["default"].use(O),o["default"].use(S),o["default"].use(a["a"]),o["default"].config.productionTip=!1;var U=[{path:"/form-default",component:T},{path:"/form-rules",component:W},{path:"/table-default",component:R},{path:"/compelete-demo",component:Q},{path:"*",component:T}],X=new a["a"]({routes:U});new o["default"]({router:X,render:function(e){return e(d)}}).$mount("#app")},"9d1b":function(e,t,n){},"9e95":function(e,t,n){},c58e:function(e,t,n){"use strict";var o=n("9d1b"),a=n.n(o);a.a},dc2f:function(e,t,n){"use strict";var o=n("0273"),a=n.n(o);a.a}});
//# sourceMappingURL=app.dccc8bed.js.map